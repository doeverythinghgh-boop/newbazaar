  <style>
    /*
  @file css/header.css
  @description أنماط خاصة بالشريط العلوي (Header) في جميع الصفحات.
*/

/* === حاوية الهيدر (الشريط العلوي) === */
.container {
  position: fixed; /* تثبيت الهيدر في أعلى الصفحة */
  top: 0;
  left: 0;
  width: 100%;
  background-color: #f9f9f9; /* خلفية بيضاء للهيدر */
  height: 100vh; /* تحديد ارتفاع ثابت بنسبة 10% من ارتفاع الشاشة */
  z-index: -1; /* Ensure it stays on top of other content */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Lighter shadow for a light theme */

  /* Use Flexbox for alignment */
  display: flex;
  justify-content: space-between; /* Pushes items to the edges */
  align-items: center;
  padding: 0.5rem 5vw; /* Responsive horizontal padding */
  box-sizing: border-box; /* Ensures padding is included in the width */
}

/* === العنوان المتحرك في الهيدر ("Suez Bazaar" و "SB") === */
.bazaar-title {
  font-size: clamp(10px, 2.5vh, 28px); /* Responsive font size with min/max */
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  /* This will be a flex container for the letters */
  display: inline-flex;
  transition: opacity 0.5s ease-out;
  /* Ensure LTR text direction for the title itself, regardless of container direction */
  direction: ltr;
}

/* تنسيق كل حرف (span) داخل العنوان المتحرك */
.bazaar-title span {
  display: inline-block;
  opacity: 0;
  /* ✅ إصلاح: تطبيق التدرج اللوني على كل حرف على حدة */
  background: linear-gradient(45deg, #007bff, #03478f);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;
  transform: scale(0);
  animation: zoomInLetter 0.4s forwards;
}

/* كلاس لإخفاء العنوان بالكامل أثناء الانتقال */
.bazaar-title.hidden {
  opacity: 0;
}

/* كلاس للحالة النهائية للعنوان "SB" بعد انتهاء الحركة */
.bazaar-title.final-text {
  font-size: clamp(18px, 3.5vh, 32px); /* Responsive font size with min/max */
  opacity: 1;
  transform: scale(1);
  /* Override the flex display to center the block correctly */
  display: inline-block;
  /* ✅ إصلاح: إعادة اللون الأزرق بشكل صحيح وإلغاء التدرج */
  color: #03478f;
  /* إعادة تعيين الخصائص التي تسببت في إخفاء النص */
  -webkit-text-fill-color: initial;
   font-weight: 600; /* يجعل النص أوضح وأقوى قليلاً */
  text-align: center; /* يضمن تمركز النص في الحاوية */
  
}

/* حركة التكبير لكل حرف في العنوان */
@keyframes zoomInLetter {
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* === الشعار النصي المتحرك بجانب العنوان (Tagline) === */
.tagline {
  font-family: "Tajawal", sans-serif; /* A nice Arabic font */
  font-size: clamp(12px, 1.8vh, 18px); /* Responsive font size with min/max */
  color: #003d7a; /* ✅ تعديل: استخدام درجة داكنة من الأزرق لتعزيز الهوية البصرية */
  margin-right: 1.5rem; /* Space between SB and the text, margin-right for RTL */
  opacity: 0; /* Hidden by default */
  transition: opacity 0.8s ease-in-out; /* Slower transition for a smoother effect */
  text-align: right; /* Align text to the right for RTL */

}

.tagline.visible {
  opacity: 1;
}

/* === مجموعات المحتوى داخل الهيدر === */
.header-title-group {
  display: flex;
  align-items: baseline;
}

/* حاوية لتجميع عناصر التحكم في الهيدر (بحث، مستخدم) */
.header-controls {
  display: flex;
  align-items: center;
  gap: 20px; /* مسافة بين قسم البحث وقسم المستخدم */
}

/* تنسيقات قسم البحث في الهيدر */
.search-container {
  position: relative;
  display: flex;
  align-items: center;
}

.search-icon-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  font-size: clamp(20px, 3.5vh, 26px); /* حجم أيقونة متجاوب */
 
  color: #03478f; /* ✅ تعديل: تغيير لون أيقونة البحث إلى الأزرق الزاهي */
}

/* === قسم ملف المستخدم في الهيدر === */
.user-icon {
  font-size: clamp(24px, 4vh, 32px); /* حجم أيقونة متجاوب */
  color: #03478f; /* ✅ تعديل: تغيير لون أيقونة المستخدم إلى الأزرق */
}

/* حاوية ملف المستخدم (الأيقونة + النص) */
.user-profile {
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer; /* تغيير شكل المؤشر للإشارة إلى أنه قابل للنقر */
  gap: 2px; /* مسافة صغيرة بين الأيقونة والنص */
}

/* نص اسم المستخدم تحت الأيقونة */
.user-text {
  font-family: "Tajawal", sans-serif;
  font-size: clamp(10px, 1.5vh, 12px); /* حجم خط صغير ومتجاوب */
  color: #03478f; /* ✅ تعديل: تغيير لون اسم المستخدم إلى الأزرق */
  font-weight: bold;
  white-space: nowrap; /* لمنع النص من الانقسام إلى سطرين */
}

/* الرابط الذي يحيط بقسم ملف المستخدم لجعله قابلاً للنقر */
.user-profile-link {
  text-decoration: none; /* إزالة الخط السفلي للرابط */
  color: inherit; /* جعل الرابط يرث اللون من العنصر الأب */
  display: flex;
  flex-direction: column;
  align-items: center;
  color:#03478f;
}
  </style>
  <a
        id="header-logo-link"
        href="index.html"
        class="header-title-group"
        style="text-decoration: none; color: inherit"
      >
      <table id="header-logo-table">
        <tr id="header-logo-row">
          <td id="header-logo-cell-title"> <h1 id="animated-text" class="bazaar-title"></h1></td>
          <td id="header-logo-cell-tagline">  <p id="tagline" class="tagline"></p></td>
        </tr>
      </table>
      </a>
      <script>
  const animatedTextElement = document.getElementById("animated-text");
  const taglineElement = document.getElementById("tagline");

  // --- Animation Configuration ---
  const fullText = "Suez Bazaar";
  const shortText = "SB";
  const letterAppearDelay = 100; // Delay between each letter appearing
  let isAnimationRunning = false; // متغير لتتبع حالة الرسوم المتحركة

  // دالة مساعدة للانتظار، مُحسّنة للرسوم المتحركة
  const wait = (ms) => new Promise((res) => setTimeout(res, ms));
  /**
   * @description تخفي النص المعروض حاليًا.
   * @function hideText
   * @returns {Promise<void>} - وعد (Promise) يتم حله بعد فترة تأخير تتوافق مع مدة تأثير الاختفاء.
   */
  async function hideText() {
    return new Promise((resolve) => {
      wait(500).then(resolve); // يتوافق مع مدة تأثير الاختفاء
    });
  }
  /**
   * @description تعرض نصًا محددًا بحركة تكبير تدريجية لكل حرف.
   *   تُستخدم للرسوم المتحركة الافتتاحية للنص.
   * @function showTextWithZoom
   * @param {string} text - النص المراد عرضه بالرسوم المتحركة.
   * @returns {Promise<void>} - وعد (Promise) يتم حله بعد اكتمال الرسوم المتحركة ووقت الانتظار الإضافي.
   */
  async function showTextWithZoom(text) {
    return new Promise((resolve) => {
      // ✅ إصلاح: إعادة تعيين كاملة للحالة الأصلية
      animatedTextElement.innerHTML = ""; // مسح المحتوى السابق
      animatedTextElement.classList.remove("final-text"); // إزالة الـ class الخاص بالحالة النهائية

      const container = animatedTextElement.parentElement;
      container.style.justifyContent = "center"; // إعادة المحاذاة إلى الوسط
      container.style.direction = "ltr"; // إعادة اتجاه النص إلى LTR لاسم "Suez Bazaar"

      // Split text into letters and wrap each in a span
      text.split("").forEach((char, index) => {
        const span = document.createElement("span");
        // Use &nbsp; for space to make it animatable
        span.innerHTML = char === " " ? "&nbsp;" : char;
        // Stagger the animation start time
        span.style.animationDelay = `${index * letterAppearDelay}ms`;
        animatedTextElement.appendChild(span);
      });

      // Calculate total animation time and then call the resolve callback
      const totalAnimationTime = text.length * letterAppearDelay;
      wait(totalAnimationTime + 2000).then(resolve); // 2s delay after animation
    });
  }
  /**
   * @description تعرض النص النهائي (مثل "SB") وتطبق التنسيقات النهائية عليه.
   * @function showFinalText
   * @param {string} text - النص النهائي المراد عرضه.
   * @returns {Promise<void>} - وعد (Promise) يتم حله فور عرض النص النهائي.
   */
  async function showFinalText(text) {
    return new Promise((resolve) => {
      animatedTextElement.innerHTML = text;
      animatedTextElement.classList.add("final-text");

      const container = animatedTextElement.parentElement;
      container.style.justifyContent = "flex-start";
      container.style.direction = "rtl"; // Set direction for right-to-left layout

      resolve(); // Signal that this step is done
    });
  }
    /**
   * @description تبدأ عرضًا متسلسلاً (carousel) للجمل التسويقية (taglines)،
   *   حيث يتم التبديل بينها بتأثيرات تلاشي وظهور.
   * @function startTaglineCarousel
   * @returns {Promise<void>} - وعد (Promise) يتم حله بعد انتهاء عرض جميع الجمل وتلاشي الجملة الأخيرة.
   */
  async function startTaglineCarousel() {
    return new Promise(async (resolve) => {
      const sentences = [
        "بازار السويس... فرصة واحدة تجمع كل الفرص",
        "اكتشف آلاف المنتجات من موردين موثوقين في السويس",
        "تابع طلبك حتى باب منزلك",
        "عروض وخصومات حصرية من الموردين",
        "جودة مضمونة وتقييم شفاف من المشترين",
        "من المورد للمستهلك مباشرة جودة وسعر أفضل",
      ];

      // ✅ إصلاح: إعادة إظهار العنصر قبل بدء عرض الجمل
      taglineElement.style.display = 'block'; // أو 'inline' حسب التصميم

      // التأكد من أن الجملة الأولى تبدأ دائمًا من حالة مخفية
      taglineElement.classList.remove("visible");
      await wait(10); // انتظار قصير لضمان تطبيق التغيير

      for (const sentence of sentences) {
        if (taglineElement.classList.contains("visible")) {
          taglineElement.classList.remove("visible");
          await wait(800); // Wait for fade-out
        }
        taglineElement.textContent = sentence;
        taglineElement.classList.add("visible");
        await wait(5000); // Wait for sentence to be displayed
      }

      // Fade out the last sentence and resolve the promise
      taglineElement.classList.remove("visible");
      await wait(800);
      resolve();
    });
  }
    /**
   * @description تبدأ دورة الرسوم المتحركة الرئيسية للنص، بما في ذلك عرض النص الكامل، إخفائه،
   *   عرض النص النهائي، وبدء عرض الجمل التسويقية المتسلسل.
   * @function startAnimationCycle
   * @returns {Promise<void>} - وعد (Promise) لا يُرجع قيمة عند الاكتمال، ولكنه يعيد تشغيل الدورة بشكل متكرر.
   * @see showTextWithZoom
   * @see hideText
   * @see showFinalText
   * @see startTaglineCarousel
   */
  async function startAnimationCycle() {
    if (isAnimationRunning) return; // منع تشغيل دورات متعددة في نفس الوقت
    isAnimationRunning = true;

    // ✅ إصلاح: إخفاء الشعار بالكامل (وليس فقط جعله شفافًا)
    // هذا يمنع العنصر من التأثير على محاذاة العنوان الرئيسي في الدورة الجديدة
    if (taglineElement.classList.contains("visible")) {
      taglineElement.classList.remove("visible"); // إزالة الشفافية
    }
    taglineElement.style.display = 'none'; // إخفاء العنصر تمامًا
    await wait(800); // انتظار حتى يكتمل تأثير الاختفاء إذا كان موجودًا

    await showTextWithZoom(fullText);
    await hideText();
    await wait(200); // Short delay
    await showFinalText(shortText);
    await startTaglineCarousel();

    // استدعاء الدورة التالية باستخدام requestAnimationFrame لضمان سلاسة الأداء
    requestAnimationFrame(() => {
      isAnimationRunning = false;
      startAnimationCycle();
    });
  }
  startAnimationCycle();
      </script>